---
import Footer from '../components/Footer.astro'
import Header from '../components/Header.astro'
import '../styles/global.css'
import * as colors from '../theme/colors'

interface Props {
  title: string
}

interface ColorsModule {
  [key: string]: {
    [key: string]: string
  }
}

const { title } = Astro.props

const flattenedColors: { [key: string]: string } = {}

for (const key in colors) {
  for (const innerKey in (colors as ColorsModule)[key]) {
    const flatKey = `${key}-${innerKey}`
    flattenedColors[flatKey] = (colors as ColorsModule)[key][innerKey]
  }
}
---

<!doctype html>
<html lang='en'>
  <head>
    <meta charset='UTF-8' />

    <!-- Primary Meta Tags -->
    <title>Halver - Split payments easily</title>
    <meta name='title' content='Halver - Split payments easily' />
    <meta
      name='description'
      content='Halver helps you split one-time payments
and subscriptions 
with ease.'
    />

    <!-- Open Graph / Facebook -->
    <meta property='og:type' content='website' />
    <meta property='og:url' content='https://metatags.io/' />
    <meta property='og:title' content='Halver - Split payments easily' />
    <meta
      property='og:description'
      content='Halver helps you split one-time payments
and subscriptions 
with ease.'
    />
    <meta
      property='og:image'
      content='https://metatags.io/images/meta-tags.png'
    />

    <!-- Twitter -->
    <meta property='twitter:card' content='summary_large_image' />
    <meta property='twitter:url' content='https://metatags.io/' />
    <meta property='twitter:title' content='Halver - Split payments easily' />
    <meta
      property='twitter:description'
      content='Halver helps you split one-time payments
and subscriptions 
with ease.'
    />
    <meta
      property='twitter:image'
      content='https://metatags.io/images/meta-tags.png'
    />

    <!-- Meta Tags Generated with https://metatags.io -->

    <meta name='viewport' content='width=device-width' />

    <link rel='apple-touch-icon' sizes='180x180' href='/apple-touch-icon.png' />
    <link rel='icon' type='image/png' sizes='32x32' href='/favicon-32x32.png' />
    <link rel='icon' type='image/png' sizes='16x16' href='/favicon-16x16.png' />
    <link rel='icon' type='image/svg+xml' href='/favicon.svg' />
    <link rel='manifest' href='/site.webmanifest' />
    <link rel='mask-icon' href='/safari-pinned-tab.svg' color='#315d65' />
    <link
      rel='preload'
      href='/fonts/HalverSans.woff2'
      as='font'
      type='font/woff2'
    />
    <meta name='msapplication-TileColor' content='#161616' />
    <meta name='theme-color' content='#161616' />

    <meta name='generator' content={Astro.generator} />
    <title>{title}</title>
  </head>

  <body class='xl:flex xl:gap-4'>
    <Header />

    <div class='xl:mx-auto xl:w-max'>
      <slot />

      <Footer />
    </div>
  </body>

  <style is:global define:vars={flattenedColors}></style>
</html>
